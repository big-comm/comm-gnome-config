#!/bin/sh

# Cleanup script for startgnome-community wrapper
# Restores the original gnome-session binary when package is removed

GNOME_SESSION="/usr/bin/gnome-session"
GNOME_SESSION_REAL="/usr/bin/gnome-session.real"

# Check if backup exists
if [ -e "$GNOME_SESSION_REAL" ]; then
    echo "Restoring original gnome-session binary..."

    # Remove the wrapper script
    rm -f "$GNOME_SESSION"

    # Restore the original binary
    mv "$GNOME_SESSION_REAL" "$GNOME_SESSION"

    echo "Original gnome-session binary restored successfully"
else
    echo "No wrapper backup found, nothing to restore"
fi
